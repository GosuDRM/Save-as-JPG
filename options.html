<!DOCTYPE html>
<!--
  Options Page for Save as JPG Chrome Extension
  @author GosuDRM
  @license MIT
-->
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title data-i18n="optionsTitle">Save as JPG ‚Äì Options</title>
  <link rel="stylesheet" href="styles/options.css">
  <!-- Better favicon / icon support -->
  <link rel="icon" href="icons/48.png">
</head>
<body>
  <div class="container">
    <header class="header">
      <button type="button" id="themeToggle" class="theme-toggle" aria-label="Toggle theme">
        <svg class="icon-sun" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <circle cx="12" cy="12" r="5"/>
          <line x1="12" y1="1" x2="12" y2="3"/>
          <line x1="12" y1="21" x2="12" y2="23"/>
          <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/>
          <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/>
          <line x1="1" y1="12" x2="3" y2="12"/>
          <line x1="21" y1="12" x2="23" y2="12"/>
          <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/>
          <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/>
        </svg>
        <svg class="icon-moon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/>
        </svg>
      </button>
      <h1 data-i18n="optionsTitle">Save as JPG ‚Äì Options</h1>
      <p class="subtitle" data-i18n="optionsSubtitle">
        Maximum quality by default ‚Ä¢ All processing happens locally ‚Ä¢ No data leaves your device
      </p>
    </header>

    <form id="optionsForm" class="options-form">
      <!-- JPEG Quality -->
      <section class="form-section">
        <div class="section-header">
          <label for="quality" data-i18n="qualityLabel">JPEG Quality</label>
          <span id="qualityValue" class="value-display">100%</span>
        </div>

        <input
          type="range"
          id="quality"
          name="quality"
          min="0.7"
          max="1.0"
          step="0.01"
          value="1.0"
          class="slider"
        >

        <div class="hint-group">
          <div class="hint" data-i18n="qualityHintMain">70% ‚Äì 100% (higher = better quality, larger file)</div>
          <div class="recommendation">
            <strong data-i18n="qualityRecommendation">Recommended: 100% (visually lossless)</strong>
          </div>
        </div>
      </section>

      <!-- Background Color -->
      <section class="form-section">
        <label for="bgColor" class="section-header" data-i18n="bgColorLabel">
          Background Color (for transparent images)
        </label>

        <div class="color-input-group">
          <input
            type="text"
            id="bgColor"
            name="bgColor"
            value="#ffffff"
            pattern="^#[0-9A-Fa-f]{6}$"
            placeholder="#ffffff"
            maxlength="7"
            autocomplete="off"
            spellcheck="false"
          >
          <input type="color" id="bgColorPicker" value="#ffffff">
        </div>

        <div class="hint" data-i18n="bgColorHint">
          HEX color code (e.g., #ffffff for white, #000000 for black)
        </div>
      </section>

      <!-- Save As Dialog -->
      <section class="form-section checkbox-section">
        <label class="checkbox-label">
          <input type="checkbox" id="saveAs" name="saveAs">
          <span data-i18n="saveAsLabel">Always show "Save As" dialog</span>
        </label>
        <div class="hint" data-i18n="saveAsHint">
          If unchecked, images download directly to your default Downloads folder
        </div>
      </section>

      <!-- Action Buttons -->
      <div class="button-group">
        <button type="submit" id="saveBtn" class="btn-primary" data-i18n="saveButton">
          Save Settings
        </button>
        <button type="button" id="resetBtn" class="btn-secondary" data-i18n="resetButton">
          Restore Defaults
        </button>
      </div>

      <!-- Status Message -->
      <div id="status" class="status hidden" role="alert" aria-live="polite"></div>
    </form>

    <!-- Footer -->
    <footer class="footer">
      <p class="privacy-note">
        <span class="lock-icon">üîí</span>
        <span data-i18n="footerPrivacy">All image conversion happens 100% locally on your device ‚Äî nothing is uploaded.</span>
      </p>
      <p class="author">
        Made with ‚ù§Ô∏è by <a href="https://github.com/GosuDRM" target="_blank" rel="noopener">GosuDRM</a>
        ‚Ä¢ <a href="https://github.com/GosuDRM/Save-as-JPG" target="_blank" rel="noopener">GitHub</a>
      </p>
    </footer>
  </div>

  <script src="options.js"></script>
</body>
</html>